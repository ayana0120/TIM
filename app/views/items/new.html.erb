<div class="row">
  <div class="col-md-12 error_message">
    <%= render 'users/error', model: @item %>
  </div>
</div>


<%= form_with model:@item, local: true do |f| %>
  <div class="row">
    <div class="col-lg-4 offset-lg-1 col-md-12">
    <h2>アイテム追加</h2>
  	  <div class="item_image">
  	  	<%= attachment_image_tag @item, :image, size: "300x300", format: "jpg",
  	  	fallback: "no-data.jpg", size: "300x300" %><br>
  	  	<%= f.attachment_field :image %>
  	  </div>
    </div>

    <div class="col-lg-6 offset-lg-1 col-md-12 items_form">
      <div class="items name">
        <%= f.label :アイテム名 %>
    	  <%= f.text_field :name, class:"item_field" %>
      </div>

      <div class="items genre">
        <%= f.label :ジャンル %>
    	  <%= f.select :genre_id, current_user.genres.all.map {|genre| [genre.name, genre.id ] }, {prompt: "ジャンルを選択"}, class:"item_field" %>
      </div>

      <%= form_with model:@genre do |f| %>
        <%= hidden_field_tag :authenticity_token, form_authenticity_token %>
        <div class="items add_genre">
          <%= f.label :ジャンル追加 %>
          <%= f.text_field :name, class:"item_field" %>
          <%= f.submit "追加", class: "btn btn-primary", formaction: genres_path(@genre) %></td>
        </div>
      <% end %>

      <div class="items quantity">
        <%= f.label :個数 %>
    	  <%= f.number_field :quantity, class:"item_field" %>
      </div>
      <div class="items exp">
        <%= f.label :期限 %>
    	  <%= f.date_field :exp, class:"item_field" %>
      </div>
      <div class="items memo">
        <%= f.label :メモ %>
    	  <%= f.text_area :memo, class:"memo_area" %>
      </div>
      <div class="items actions">
    	  <%= f.submit "追加", class:"btn btn-primary", formaction: items_path(@item) %>
      </div>
    </div>
  <% end %>
</div>
